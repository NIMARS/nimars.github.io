:is(h1,h2,h3,h4,h5,h6) { scroll-margin-top: 80px; }

:root {
    --bg: #ffffff;
    --fg: #111111;
    --muted: #6b7280;
    --link: #2563eb;
    --card: #f5f5f5;
    --border: #e5e7eb;
  }
  
  @media (prefers-color-scheme: dark) {
    :root:not([data-theme]) {
      color-scheme: dark;
      --bg: #0b0b0e;
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --link: #60a5fa;
      --card: #141418;
      --border: #1f2937;
    }
  }
  
  :root[data-theme="dark"] {
    color-scheme: dark;
    --bg: #0b0b0e;
    --fg: #e5e7eb;
    --muted: #9ca3af;
    --link: #60a5fa;
    --card: #141418;
    --border: #1f2937;
  }
  :root[data-theme="light"] {
    color-scheme: light;
  }

  html, body {
    background: var(--bg);
    color: var(--fg);
    font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
    margin: 0; padding: 0;
  }
  .container { max-width: 860px; margin: 2rem auto; padding: 0 1rem; }
  .nav { display: flex; gap: .9rem; padding: .75rem 1rem; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: var(--bg); }
  .nav a { color: var(--link); text-decoration: none; }
  .nav .lang { margin-left: auto; font-weight: 600; }
  h1,h2,h3 { line-height: 1.25; }
  code, pre { background: var(--card); border: 1px solid var(--border); border-radius: 8px; padding: .25rem .4rem; }
  footer { border-top: 1px solid var(--border); margin-top: 3rem; padding: 1rem; color: var(--muted); }
  a:hover { text-decoration: underline; }
  
  .theme-toggle {
    margin-left: .5rem;
    padding: .25rem .5rem;
    border: 1px solid var(--border);
    background: var(--card);
    color: var(--fg);
    border-radius: 8px;
    cursor: pointer;
  }
  .theme-toggle:hover { filter: brightness(1.05); }